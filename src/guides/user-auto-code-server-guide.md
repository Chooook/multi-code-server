# FIXME!!!!!!!!!!!!!
# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–µ—Ä–≤–∏—Å–∞–º

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–í–∞—à–∏ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **Code Server** - –í–µ–±-–≤–µ—Ä—Å–∏—è VS Code
2. **Nginx Proxy** - –ü—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Code Server

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–æ—Å—Ç—É–ø –∫ Code Server:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: `http://—Å–µ—Ä–≤–µ—Ä:–ü–û–†–¢`
   - –ü–æ—Ä—Ç –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å: `user-service-control status`
   - –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ñ–∞–π–ª–µ: `cat ~/.code-server-initial-password.txt` (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ —Ñ–∞–π–ª–∞ `~/.code-server-initial-password.txt`
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞

## üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
user-service-control status

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
user-service-control start

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã  
user-service-control stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
user-service-control restart

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
user-service-control list

# –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
user-service-control logs
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏:

```bash
# –¢–æ–ª—å–∫–æ Code Server
user-service-control start code-server
user-service-control stop code-server
user-service-control status code-server

# –¢–æ–ª—å–∫–æ Nginx
user-service-control start nginx-proxy
user-service-control stop nginx-proxy
```

## –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è Code Server
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
user-code-server-set-password
```
–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è.

## –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
user-service-logs

# –õ–æ–≥–∏ Code Server (100 —Å—Ç—Ä–æ–∫)
user-service-logs code-server 100

# –õ–æ–≥–∏ Nginx
user-service-logs nginx

# –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö
journalctl --user --grep="error"
```

## –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏:

```bash
# –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
user-service-recreate-configs
```

## SSH –¥–æ—Å—Ç—É–ø –∏ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:

```bash
ssh –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞
```

### –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É:

```bash
# –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ Code Server
ssh -L 8080:localhost:–í–ê–®_–ü–û–†–¢ –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Code Server –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ:
- –õ–æ–∫–∞–ª—å–Ω–æ: `http://localhost:8080`
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `http://—Åe—Ä–≤–µ—Ä:–í–ê–®_–ü–û–†–¢`

### –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—Ä–æ–±—Ä–æ—Å (–≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ):

```bash
# –°–æ–∑–¥–∞—Ç—å —Ç—É–Ω–Ω–µ–ª—å –≤ —Ñ–æ–Ω–µ
ssh -N -L 8080:localhost:–í–ê–®_–ü–û–†–¢ –≤–∞—à_–ª–æ–≥–∏–Ω@—Å–µ—Ä–≤–µ—Ä &
# –∏–ª–∏ —Å –∞–≤—Ç–æ-–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
autossh -M 0 -N -L 8080:localhost:–í–ê–®_–ü–û–†–¢ –≤–∞—à_–ª–æ–≥–∏–Ω@—Å–µ—Ä–≤–µ—Ä &
```

### –£–∑–Ω–∞—Ç—å –≤–∞—à –ø–æ—Ä—Ç:

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
user-service-control status | grep "HTTP Proxy Port"

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ systemd (–µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω)
systemctl --user show nginx-proxy.service | grep Listen | head -1
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã:

- Code Server –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ 
- Code Server –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 1 —á–∞—Å –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ 
- Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –¥–ª—è –ø—Ä–∏–µ–º–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ 
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö

### –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:

- –ó–∞–∫—Ä—ã–ª–∏ –±—Ä–∞—É–∑–µ—Ä ‚Üí —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 1 —á–∞—Å 
- –ß–µ—Ä–µ–∑ 1 —á–∞—Å ‚Üí —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è 
- –ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å ‚Üí —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
user-service-control status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏
user-service-logs all 100

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
systemctl --user daemon-reload
```

### –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã: user-service-control status 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (—Å–º. –≤—ã—à–µ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å: cat ~/.code-server-initial-password.txt 
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ —á–µ—Ä–µ–∑ SSH

### Systemd --user –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å linger
loginctl show-user $(whoami) | grep Linger

# –û–±—ã—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –ø–µ—Ä–µ–ª–æ–≥–∏–Ω
logout
# –∏ —Å–Ω–æ–≤–∞ login
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ —Ä–µ—à–∞—é—Ç—Å—è:

- –°–æ–æ–±—â–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –≤–∞—à UID: id -u 
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫: user-service-logs all 100 
- –£–∫–∞–∂–∏—Ç–µ —à–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemd:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —é–Ω–∏—Ç–æ–≤
systemctl --user list-units

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
systemctl --user status code-server.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
journalctl --user -u code-server.service -f
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:

```bash
# –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
ss -xp | grep code-server

# –ü—Ä–æ—Ü–µ—Å—Å—ã code-server
ps aux | grep code-server | grep -v grep
```
